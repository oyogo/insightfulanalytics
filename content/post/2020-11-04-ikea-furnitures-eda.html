---
title: Ikea furnitures EDA
author: Clinton Oyogo
date: '2020-11-04'
slug: ikea-furnitures-eda
categories:
  - r
tags:
  - tidytuesday
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/plotly-binding/plotly.js"></script>
<script src="/rmarkdown-libs/typedarray/typedarray.min.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
<script src="/rmarkdown-libs/crosstalk/js/crosstalk.min.js"></script>
<link href="/rmarkdown-libs/plotly-htmlwidgets-css/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="/rmarkdown-libs/plotly-main/plotly-latest.min.js"></script>


<p><strong>I am loving the tidytuesday challenges cause of the way they stretch my thinking particularly on data visualization skills.
Took some time to flex my EDA skills with the TidyTuesday challenge data from Ikea home furnishing company.
There are quite a number of things to inspect but I’ll just have a look at a few.</strong></p>
<div id="data-import" class="section level3">
<h3>Data import</h3>
<pre class="r"><code>ikea &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-11-03/ikea.csv&#39;)</code></pre>
</div>
<div id="loading-libraries" class="section level3">
<h3>Loading libraries</h3>
<pre class="r"><code>library(dplyr)
library(plotly)
library(ggridges)</code></pre>
</div>
<div id="hows-the-rank-of-furniture-categories-with-regard-to-number-of-designers" class="section level2">
<h2>How’s the rank of furniture categories with regard to number of designers?</h2>
<p>I thought it interesting to see which category of furnitures had the highest number of designers.
Its clear from the bar graph below that Tables and desks had the highest count followed closely by Book cases and shelving units.</p>
<p>I love the interactivity of plotly. With a hover on the bars you can see the furniture category and the corresponding number of designers.</p>
<pre class="r"><code>ikea_cat_des &lt;- ikea %&gt;%
  dplyr::group_by(category) %&gt;%
  dplyr::count(designer) %&gt;%
  dplyr::summarise(n=sum(n))
  
  
plot_ly(ikea_cat_des, 
                y = ~reorder(category,n), 
                x = ~n, 
                colors = &#39;PuRd&#39;,
                showscale = FALSE,
                showlegend = FALSE,
                text = ~paste0(&quot;Category: &quot;, category, &quot;\n&quot;, &quot;Number of designers: &quot;, n)) %&gt;%
          add_bars( hoverinfo=&#39;text&#39;) %&gt;%
          hide_colorbar() %&gt;%
      
        layout(bargap = 0.5, 
              group = ~category , 
              title = paste(&quot;Number of designers per category of furniture&quot;), 
              xaxis = list(title = &quot;Number of designers&quot;,tickangle = 45
                           
              ),
              yaxis=list(title=&quot;Category of furniture&quot;), 
              dtick = 1,
              tick0 = 0,
              tickmode = &quot;array&quot;)</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"visdat":{"ff0e68e855cc":["function () ","plotlyVisDat"]},"cur_data":"ff0e68e855cc","attrs":{"ff0e68e855cc":{"y":{},"x":{},"showscale":false,"showlegend":false,"text":{},"colors":"PuRd","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","hoverinfo":"text","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Number of designers","tickangle":45},"yaxis":{"domain":[0,1],"automargin":true,"title":"Category of furniture","type":"category","categoryorder":"array","categoryarray":["Room dividers","Sideboards, buffets & console tables","Café furniture","Trolleys","Bar furniture","Nursery furniture","Children's furniture","Chests of drawers & drawer units","TV & media furniture","Beds","Outdoor furniture","Wardrobes","Cabinets & cupboards","Sofas & armchairs","Chairs","Bookcases & shelving units","Tables & desks"]},"hovermode":"closest","showlegend":false,"bargap":0.5,"group":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes"],"title":"Number of designers per category of furniture","dtick":1,"tick0":0,"tickmode":"array"},"source":"A","config":{"showSendToCloud":false},"data":[{"y":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes"],"x":[47,208,548,292,26,481,125,124,97,216,13,23,428,612,28,190,236],"showscale":false,"showlegend":false,"text":["Category: Bar furniture<br />Number of designers: 47","Category: Beds<br />Number of designers: 208","Category: Bookcases & shelving units<br />Number of designers: 548","Category: Cabinets & cupboards<br />Number of designers: 292","Category: Café furniture<br />Number of designers: 26","Category: Chairs<br />Number of designers: 481","Category: Chests of drawers & drawer units<br />Number of designers: 125","Category: Children's furniture<br />Number of designers: 124","Category: Nursery furniture<br />Number of designers: 97","Category: Outdoor furniture<br />Number of designers: 216","Category: Room dividers<br />Number of designers: 13","Category: Sideboards, buffets & console tables<br />Number of designers: 23","Category: Sofas & armchairs<br />Number of designers: 428","Category: Tables & desks<br />Number of designers: 612","Category: Trolleys<br />Number of designers: 28","Category: TV & media furniture<br />Number of designers: 190","Category: Wardrobes<br />Number of designers: 236"],"type":"bar","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"orientation":"h","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"},"showscale":false},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="hows-the-comparison-of-item-categories-that-are-sellable-online-and-those-that-are-not" class="section level2">
<h2>How’s the comparison of item categories that are sellable online and those that are not?</h2>
<p>I love the way a sankey diagram highlights the fact that a large percentage of items are sellable online.
As we can note from the diagram, the following items are not sellable online entirely:
- cafe furniture,<br />
- sideboards, buffets and console tables and<br />
- Room dividers<br />
whereas for the other categories, only a small percentage of items are not sellable online.</p>
<pre class="r"><code>category_selleable_online &lt;- ikea %&gt;%
  dplyr::group_by(category,sellable_online) %&gt;%
  dplyr::count(sellable_online)


 colnames(category_selleable_online) &lt;- c(&quot;source&quot;, &quot;target&quot;, &quot;value&quot;)

      category_selleable_online$source &lt;- stringr::str_trim(category_selleable_online$source)
      category_selleable_online$target &lt;- stringr::str_trim(category_selleable_online$target)

      category_selleable_online$target &lt;- paste(category_selleable_online$target, &quot; &quot;, sep = &quot;&quot;)

      nodes &lt;- data.frame(name=c(as.character(category_selleable_online$source), as.character(category_selleable_online$target)) %&gt;% unique())
      
      category_selleable_online$IDsource = match(category_selleable_online$source, nodes$name)-1
      category_selleable_online$IDtarget = match(category_selleable_online$target, nodes$name)-1
      
      
   sankey_plot &lt;- plot_ly(category_selleable_online,
        type = &quot;sankey&quot;,
        node = list(
          label = nodes$name,
          pad = 15,
          thickness = 15,
          line = list(
            color = &quot;black&quot;,
            width = 0.5
          )
        ),
        
        link = list(
          source = category_selleable_online$IDsource,
          target = category_selleable_online$IDtarget,
          value =  category_selleable_online$value,
          label = nodes$name
        )
      )  %&gt;%
      layout(
        title = &quot;Category of items and their online sale status&quot;,
        xaxis = list(showgrid = F, zeroline = F),
        yaxis = list(showgrid = F, zeroline = F),
        margin = list( t = 50)
      )
 sankey_plot</code></pre>
<div id="htmlwidget-2" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-2">{"x":{"visdat":{"ff0e6c7d9c83":["function () ","plotlyVisDat"]},"cur_data":"ff0e6c7d9c83","attrs":{"ff0e6c7d9c83":{"node":{"label":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes","FALSE ","TRUE "],"pad":15,"thickness":15,"line":{"color":"black","width":0.5}},"link":{"source":[0,0,1,1,2,2,3,3,4,5,5,6,7,7,8,8,9,10,11,12,12,13,13,14,14,15,15,16],"target":[17,18,17,18,17,18,17,18,18,17,18,18,17,18,17,18,18,18,18,17,18,17,18,17,18,17,18,18],"value":[3,44,3,205,1,547,1,291,26,4,477,125,5,119,4,93,216,13,23,1,427,4,608,1,27,1,189,236],"label":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes","FALSE ","TRUE "]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sankey"}},"layout":{"margin":{"b":40,"l":60,"t":50,"r":10},"title":"Category of items and their online sale status","xaxis":{"showgrid":false,"zeroline":false},"yaxis":{"showgrid":false,"zeroline":false},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"node":{"label":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes","FALSE ","TRUE "],"pad":15,"thickness":15,"line":{"color":"black","width":0.5}},"link":{"source":[0,0,1,1,2,2,3,3,4,5,5,6,7,7,8,8,9,10,11,12,12,13,13,14,14,15,15,16],"target":[17,18,17,18,17,18,17,18,18,17,18,18,17,18,17,18,18,18,18,17,18,17,18,17,18,17,18,18],"value":[3,44,3,205,1,547,1,291,26,4,477,125,5,119,4,93,216,13,23,1,427,4,608,1,27,1,189,236],"label":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes","FALSE ","TRUE "]},"type":"sankey","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="how-do-the-furniture-categories-compare-in-terms-of-mean-price" class="section level2">
<h2>How do the furniture categories compare in terms of Mean price?</h2>
<pre class="r"><code>ikea_cat_price &lt;- ikea %&gt;%
  dplyr::group_by(category) %&gt;%
  dplyr::summarise(mean_price=mean(price))
  
  
plot_ly(ikea_cat_price, 
                y = ~reorder(category,mean_price), 
                x = ~mean_price, 
                colors = &#39;PuRd&#39;,
                showscale = FALSE,
                showlegend = FALSE,
                text = ~paste0(&quot;Category: &quot;, category, &quot;\n&quot;, &quot;Mean price: &quot;, mean_price)) %&gt;%
          add_bars( hoverinfo=&#39;text&#39;) %&gt;%
          hide_colorbar() %&gt;%
      
        layout(bargap = 0.5, 
              group = ~category , 
              title = paste(&quot;Mean price per category of furniture&quot;), 
              xaxis = list(title = &quot;Mean price (Saudi Riyals)&quot;,tickangle = 45),
              yaxis=list(title=&quot;Category of furniture&quot;), 
              dtick = 1,
              tick0 = 0,
              tickmode = &quot;array&quot;)</code></pre>
<div id="htmlwidget-3" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3">{"x":{"visdat":{"ff0e2b7d4cda":["function () ","plotlyVisDat"]},"cur_data":"ff0e2b7d4cda","attrs":{"ff0e2b7d4cda":{"y":{},"x":{},"showscale":false,"showlegend":false,"text":{},"colors":"PuRd","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","hoverinfo":"text","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Mean price (Saudi Riyals)","tickangle":45},"yaxis":{"domain":[0,1],"automargin":true,"title":"Category of furniture","type":"category","categoryorder":"array","categoryarray":["Children's furniture","Nursery furniture","Bookcases & shelving units","Café furniture","Chests of drawers & drawer units","TV & media furniture","Trolleys","Bar furniture","Cabinets & cupboards","Outdoor furniture","Room dividers","Chairs","Sideboards, buffets & console tables","Tables & desks","Beds","Sofas & armchairs","Wardrobes"]},"hovermode":"closest","showlegend":false,"bargap":0.5,"group":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes"],"title":"Mean price per category of furniture","dtick":1,"tick0":0,"tickmode":"array"},"source":"A","config":{"showSendToCloud":false},"data":[{"y":["Bar furniture","Beds","Bookcases & shelving units","Cabinets & cupboards","Café furniture","Chairs","Chests of drawers & drawer units","Children's furniture","Nursery furniture","Outdoor furniture","Room dividers","Sideboards, buffets & console tables","Sofas & armchairs","Tables & desks","Trolleys","TV & media furniture","Wardrobes"],"x":[679.553191489362,1647.43269230769,519.416058394161,789.015753424658,553.884615384615,1048.93264033264,612.18,272.758064516129,393.659793814433,859.826851851852,932,1068.08695652174,2004.01635514019,1129.3954248366,678.517857142857,659.05052631579,2162.14194915254],"showscale":false,"showlegend":false,"text":["Category: Bar furniture<br />Mean price: 679.553191489362","Category: Beds<br />Mean price: 1647.43269230769","Category: Bookcases & shelving units<br />Mean price: 519.416058394161","Category: Cabinets & cupboards<br />Mean price: 789.015753424658","Category: Café furniture<br />Mean price: 553.884615384615","Category: Chairs<br />Mean price: 1048.93264033264","Category: Chests of drawers & drawer units<br />Mean price: 612.18","Category: Children's furniture<br />Mean price: 272.758064516129","Category: Nursery furniture<br />Mean price: 393.659793814433","Category: Outdoor furniture<br />Mean price: 859.826851851852","Category: Room dividers<br />Mean price: 932","Category: Sideboards, buffets & console tables<br />Mean price: 1068.08695652174","Category: Sofas & armchairs<br />Mean price: 2004.01635514019","Category: Tables & desks<br />Mean price: 1129.3954248366","Category: Trolleys<br />Mean price: 678.517857142857","Category: TV & media furniture<br />Mean price: 659.05052631579","Category: Wardrobes<br />Mean price: 2162.14194915254"],"type":"bar","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"orientation":"h","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"},"showscale":false},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="checking-the-price-distributions-of-the-furniture-categories" class="section level2">
<h2>Checking the price distributions of the furniture categories</h2>
<pre class="r"><code>item_price_distribution &lt;- ikea %&gt;%
  dplyr::group_by(category, price)


ggplot(item_price_distribution,aes(x = price, y = reorder(category, price))) +
  geom_boxplot() +
  labs(title = &quot;Price distribution per category&quot;, ylab = &quot;Item categories&quot;, xlab = &quot;Price in Saudi Riyals&quot;) +
  theme(plot.title = element_text(hjust = 0.5, face = &quot;bold&quot;))</code></pre>
<p><img src="/post/2020-11-04-ikea-furnitures-eda_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
</div>
